<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="https://img10.360buyimg.com/ddimg/jfs/t1/210672/22/780/14721/614304cbE6ed71481/b30794e20af29208.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="Java-异常                           1.什么是异常？       异常是指在程序运行过程中所发生的不正常事件，如所需文件找不到、网络连接不通或连接中断、算术运算出错（如被零除）、数组下标越界、装载一个不存在的类、对null对象操作、类型转换异常等。异常会中段断正在运行的程序。 生活中的异常：正常情况下，小王每天开车去上班，耗时">
<meta property="og:type" content="article">
<meta property="og:title" content="异常">
<meta property="og:url" content="http://example.com/2021/09/10/Java-%E5%BC%82%E5%B8%B8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Java-异常                           1.什么是异常？       异常是指在程序运行过程中所发生的不正常事件，如所需文件找不到、网络连接不通或连接中断、算术运算出错（如被零除）、数组下标越界、装载一个不存在的类、对null对象操作、类型转换异常等。异常会中段断正在运行的程序。 生活中的异常：正常情况下，小王每天开车去上班，耗时">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img13.360buyimg.com/ddimg/jfs/t1/196986/12/1936/20605/610cd871E919798c6/827ba5954b9b8427.png">
<meta property="article:published_time" content="2021-09-10T06:41:30.410Z">
<meta property="article:modified_time" content="2021-08-09T03:01:44.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Java基础">
<meta property="article:tag" content="异常">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img13.360buyimg.com/ddimg/jfs/t1/196986/12/1936/20605/610cd871E919798c6/827ba5954b9b8427.png"><title>异常 | Hexo</title><link ref="canonical" href="http://example.com/2021/09/10/Java-%E5%BC%82%E5%B8%B8/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"drak","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Hexo</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">异常</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-09-10</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-08-09</span></span></div></header><div class="post-body">
        <h3 id="Java-异常"   >
          <a href="#Java-异常" class="heading-link"><i class="fas fa-link"></i></a><a href="#Java-异常" class="headerlink" title="Java-异常"></a>Java-异常</h3>
      
        <h4 id="1-什么是异常？"   >
          <a href="#1-什么是异常？" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-什么是异常？" class="headerlink" title="1.什么是异常？"></a>1.什么是异常？</h4>
      <p>异常是指在程序运行过程中所发生的不正常事件，如所需文件找不到、网络连接不通或连接中断、算术运算出错（如被零除）、数组下标越界、装载一个不存在的类、对null对象操作、类型转换异常等。异常会中段断正在运行的程序。</p>
<p><strong>生活中的异常：</strong><br>正常情况下，小王每天开车去上班，耗时大约30钟</p>
<p><strong>异常情况：</strong><br>上班路上会发生：堵车、车子故障等事故，会影响小王的上班时间</p>
<p>下面看一个程序中的异常：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Scanner sc = new Scanner(System.in);</span><br><span class="line">System.out.print(&quot;请输入被除数：&quot;);</span><br><span class="line">int num1 = sc.nextInt();</span><br><span class="line">System.out.print(&quot;请输入除数：&quot;);</span><br><span class="line">int num2 = sc.nextInt();</span><br><span class="line">System.out.print(num1+&quot;/&quot;+num2+&quot;=&quot;+(num1/num2));</span><br><span class="line">System.out.print(&quot;感谢使用本程序！&quot;);</span><br></pre></td></tr></table></div></figure>
<p>这个程序正常来说执行是不会报错的，但是一但出现异常程序将会立刻结束，不仅计算和输出商的语句不会执行，就连输出“感谢本程序！”的语句也不会执行,如下图所示：<br><img src="https://img13.360buyimg.com/ddimg/jfs/t1/196986/12/1936/20605/610cd871E919798c6/827ba5954b9b8427.png" alt="20210806143606.png"></p>
<p>或者用户输入跟数字无关的字母、下划线等，也会出现异常</p>
<p>总结下来：异常就是指在程序运行过程中所发生的不正常事件，它会中断正在运行的程序</p>
<blockquote>
<p>程序运行——&gt;异常——&gt;程序中断运行</p>
</blockquote>
<p><strong>在生活中面对异常会这样处理</strong></p>
<blockquote>
<p>开车—&gt;堵车—&gt;绕行或者等待—&gt;到公司<br>开车—&gt;车子故障—&gt;请道路救援维修，或者自己维修—&gt;到公司</p>
</blockquote>
<p><strong>生活中 ，根据不同的异常进行相应的处理，而不会就此中断我们的生活</strong></p>
<p><strong>如何解决异常?</strong></p>
<blockquote>
<p>程序中出现异常，如何解决？<br>程序员通过代码堵住程序中可能出现的 “漏洞”</p>
<p>程序中的异常处理<br>根据不同的异常进行相应的处理，而不会就此中断程序运行</p>
<p>Java异常处理机制</p>
</blockquote>
<p>异常<br>1.在程序的运行过程中所发生的不正常的事件，它会中断中断正在运行的程序<br>异常处理<br>1.根据不同的异常进行相应的处理，而不会就此中断程序运行<br>2.Java使用异常处理机制为程序提供了错误处理的能力</p>

        <h4 id="2-异常处理机制"   >
          <a href="#2-异常处理机制" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-异常处理机制" class="headerlink" title="2.异常处理机制"></a>2.异常处理机制</h4>
      <p>Java 编程语言使用异常处理机制为程序提供了错误处理的能力</p>
<p>程序中预先设置号对付异常的处理办法—&gt;程序运行—&gt;异常<br>对异常进行处理—&gt;处理完毕，程序继续运行</p>
<p>例：处理除数为0的传统方法<br>在用户录入之前做判断，排除一些用户的非法操作</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Scanner sc = new Scanner(System.in);</span><br><span class="line">        System.out.print(&quot;请输入被除数：&quot;);</span><br><span class="line">        int num1 = sc.nextInt();</span><br><span class="line">        System.out.print(&quot;请输入除数：&quot;);</span><br><span class="line">        int num2 = 0;</span><br><span class="line">        //在接收用户录入之前做判断，排除一些用户的非法操作</span><br><span class="line">        //hasNextInt():用户输入的必须是int类型的数据</span><br><span class="line">        if(sc.hasNextInt())&#123;</span><br><span class="line">            num2=sc.nextInt();</span><br><span class="line">            //用户录入整数</span><br><span class="line">            if(0==num2)&#123;</span><br><span class="line">                //用户录入的是0</span><br><span class="line">                System.out.println(&quot;输入的除数不能为0，程序退出！&quot;);</span><br><span class="line">                //退出JVM，非0代表异常终止</span><br><span class="line">                System.exit(1);</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                System.out.println(num1+&quot;/&quot;+num2+&quot;=&quot;+(num1/num2));</span><br><span class="line">                System.out.print(&quot;感谢使用本程序！&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            //用户录入的是非整数</span><br><span class="line">            System.out.println(&quot;输入的除数不是整数，程序退出！&quot;);</span><br><span class="line">            //退出JVM，非0代表异常终止</span><br><span class="line">            System.exit(1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p><strong>弊端：</strong><br>1.代码臃肿<br>2.程序员要花很大精力 “堵漏洞”<br>3.程序员很难堵住所有 “漏洞”<br>4.异常处理代码和业务代码交织在一起，影响了代码的可读性，加大日后程序的维护难度。</p>

        <h5 id="接下来介绍Java的异常处理机制"   >
          <a href="#接下来介绍Java的异常处理机制" class="heading-link"><i class="fas fa-link"></i></a><a href="#接下来介绍Java的异常处理机制" class="headerlink" title="接下来介绍Java的异常处理机制"></a>接下来介绍Java的异常处理机制</h5>
      <p>Java提供了异常处理机制，可以由系统来处理程序在运行过程中可能出现的异常事件，使程序员又更多精力关注于业务代码编写。</p>
<p>有五个关键字：try、catch、finally、throw、throws</p>
<blockquote>
<p>1.try:执行可能产生异常的代码（捕获异常）<br>2.catch：捕获异常<br>3.finally：无论是否发生异常，代码总能执行<br>4.throws：声明方法可能要抛出的各种异常<br>5.throw：手动抛出异常</p>
</blockquote>
<p><strong>例：</strong></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class Test1 &#123;</span><br><span class="line">    //简单的try-catch处理异常</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Scanner sc = new Scanner(System.in);</span><br><span class="line">        try&#123;</span><br><span class="line">            System.out.print(&quot;请输入被除数：&quot;);</span><br><span class="line">            int num1 = sc.nextInt();</span><br><span class="line">            System.out.print(&quot;请输入除数：&quot;);</span><br><span class="line">            int num2 = sc.nextInt();</span><br><span class="line">            System.out.print(num1+&quot;/&quot;+num2+&quot;=&quot;+(num1/num2));</span><br><span class="line">            System.out.print(&quot;感谢使用本程序！&quot;);</span><br><span class="line">        &#125;catch (Exception e)&#123;</span><br><span class="line">            //捕获异常，对异常做处理</span><br><span class="line">            System.err.println(&quot;出现错误:被除数和除数必须为整数，且不能为零!&quot;);</span><br><span class="line">            System.exit(1);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>比起传统处理异常，try-catch更节省代码</p>

        <h4 id="3-try-catch"   >
          <a href="#3-try-catch" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-try-catch" class="headerlink" title="3.try-catch"></a>3.try-catch</h4>
      <p><strong>掌握使用 try-catch异常处理的三种</strong> </p>
<p>第一种：正常执行，可能出现异常</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public void method()&#123;</span><br><span class="line">	try&#123;</span><br><span class="line">		//代码段(此处不会产生异常)</span><br><span class="line">	&#125;catch(异常类型 e)&#123;</span><br><span class="line">		//对异常进行处理的代码段</span><br><span class="line">	&#125;</span><br><span class="line">	//代码段</span><br><span class="line">&#125;</span><br><span class="line">//try里面没有异常的话，不会执行carch会继续执行后面的代码段</span><br></pre></td></tr></table></div></figure>
<p><strong>第二种：出现异常</strong></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public void method()&#123;</span><br><span class="line">	try&#123;</span><br><span class="line">		//代码段1</span><br><span class="line">		//产生异常的代码段2</span><br><span class="line">		//代码段3</span><br><span class="line">	&#125;catch(异常类型 e)&#123;</span><br><span class="line">		//对异常进行处理的代码段4</span><br><span class="line">	&#125;</span><br><span class="line">	//代码段5</span><br><span class="line">	//有异常进入catch之后还会执行代码段5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>第二种：异常类型不匹配</strong></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public void method()&#123;</span><br><span class="line">	try&#123;</span><br><span class="line">		//代码段1</span><br><span class="line">		//产生异常的代码段2</span><br><span class="line">		//代码段3</span><br><span class="line">	&#125;catch(异常类型 e)&#123;</span><br><span class="line">		//对异常进行处理的代码段4</span><br><span class="line">	&#125;</span><br><span class="line">	//代码段5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p><strong>异常类型不匹配的话，不会进入到catch里面，也不会继续执行后面的代码</strong></p>

        <h4 id="4-异常对象处理"   >
          <a href="#4-异常对象处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-异常对象处理" class="headerlink" title="4.异常对象处理"></a>4.异常对象处理</h4>
      <p>在catch块中处理异常<br> 加入用户自定义处理信息</p>
<blockquote>
<p>System.err.println(“出现错误:被除数和除数必须是整数”);</p>
</blockquote>
<p>调用方法输出异常</p>
<blockquote>
<p>e.printStackTrace( );//输出异常的堆栈信息</p>
</blockquote>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">catch (Exception e)&#123;</span><br><span class="line">  //捕获异常，对异常做处理</span><br><span class="line"> System.err.println(&quot;出现错误:被除数和除数必须为整数，且不能为零!&quot;);</span><br><span class="line">  //System.exit(1);</span><br><span class="line">  //输出异常堆栈信息</span><br><span class="line">  e.printStackTrace();</span><br><span class="line">&#125;;</span><br><span class="line">//printStackTrace()的堆栈跟踪功能显示出程序运行到当前类的执行流程</span><br></pre></td></tr></table></div></figure>
<p>异常对象常用的方法</p>
<div class="table-container"><table>
<thead>
<tr>
<th align="center">方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">void printStackTrace()</td>
<td>输出异常新堆栈信息</td>
</tr>
<tr>
<td align="center">String getMessage()</td>
<td>是printStackTrace()输出信息的一部分</td>
</tr>
</tbody></table></div>
<p>getMessage( )：返回报错信息的字符串</p>
<p><strong>常见的异常类型</strong></p>
<div class="table-container"><table>
<thead>
<tr>
<th align="center">异常类型</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Exception</td>
<td align="center">异常层次结构的父类</td>
</tr>
<tr>
<td align="center">ArithmeticException</td>
<td align="center">算术错误情形，如以零作除数</td>
</tr>
<tr>
<td align="center">ArraylndexOutOfBoundsException</td>
<td align="center">数组下标越界</td>
</tr>
<tr>
<td align="center">NullPointerException</td>
<td align="center">尝试访问null对象成员</td>
</tr>
<tr>
<td align="center">ClassNotFoundException</td>
<td align="center">不能加载所需的类</td>
</tr>
<tr>
<td align="center">lllegalArgumentException</td>
<td align="center">方法接收到非法参数</td>
</tr>
<tr>
<td align="center">ClassCastException</td>
<td align="center">对象强制类型转换出错</td>
</tr>
<tr>
<td align="center">NumberFormatException</td>
<td align="center">算术错误情形，如以零作除数</td>
</tr>
<tr>
<td align="center">ArithmeticException</td>
<td align="center">数字格式转换异常，如把”abc”转换成数字</td>
</tr>
</tbody></table></div>

        <h4 id="5-try-catch-finally"   >
          <a href="#5-try-catch-finally" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-try-catch-finally" class="headerlink" title="5.try-catch-finally"></a>5.try-catch-finally</h4>
      <p><strong>在try-catch块后加入finally ，finally不管前面是否发生异常都会被执行</strong></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class Test1 &#123;</span><br><span class="line">    //简单的try-catch处理异常</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Scanner sc = new Scanner(System.in);</span><br><span class="line">        try&#123;</span><br><span class="line">            System.out.print(&quot;请输入被除数：&quot;);</span><br><span class="line">            int num1 = sc.nextInt();</span><br><span class="line">            System.out.print(&quot;请输入除数：&quot;);</span><br><span class="line">            int num2 = sc.nextInt();</span><br><span class="line">            System.out.print(num1+&quot;/&quot;+num2+&quot;=&quot;+(num1/num2));</span><br><span class="line"></span><br><span class="line">        &#125;catch (Exception e)&#123;</span><br><span class="line">            //捕获异常，对异常做处理</span><br><span class="line">            System.err.println(&quot;出现错误:被除数和除数必须为整数，且不能为零!&quot;);</span><br><span class="line">           </span><br><span class="line">            //System.exit(1);</span><br><span class="line">            //输出异常堆栈信息</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            System.out.print(&quot;感谢使用本程序！&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//唯一不执行的情况是写了</span><br><span class="line">//System.exit(1);</span><br><span class="line">如果catch里面有return的话，是先执行finally，再执行return</span><br></pre></td></tr></table></div></figure>
<p><strong>面试题：</strong><br>1.try-catch块中存在return语句，是否还执行finally块？如果执行，说出执行循序</p>
<p>答：执行finally，不管有没有异常，finally始终是执行的，finally的执行循序在 return 之前</p>
<p>2.try-catch- finally块中，finally块唯一不执行的情况是什么?</p>
<p>答：在catch里面加入了System.exit(1);此时进入到catch里面会终止JVM的进程</p>

        <h4 id="6-多重catch"   >
          <a href="#6-多重catch" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-多重catch" class="headerlink" title="6. 多重catch"></a>6. 多重catch</h4>
      <p><strong>引发多种类型的异常</strong></p>
<p>1.排列catch语句的顺序∶先子类后父类<br>2.发生异常时按顺序逐个匹配<br>3.只执行第一个与异常类型匹配的catch语句</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class Test1 &#123;</span><br><span class="line">    //简单的try-catch处理异常</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Scanner sc = new Scanner(System.in);</span><br><span class="line">        try&#123;</span><br><span class="line">            System.out.print(&quot;请输入被除数：&quot;);</span><br><span class="line">            int num1 = sc.nextInt();</span><br><span class="line">            System.out.print(&quot;请输入除数：&quot;);</span><br><span class="line">            int num2 = sc.nextInt();</span><br><span class="line">            System.out.print(num1+&quot;/&quot;+num2+&quot;=&quot;+(num1/num2));</span><br><span class="line"></span><br><span class="line">        &#125;catch (InputMismatchException e)&#123;</span><br><span class="line">            //捕获异常，对异常做处理</span><br><span class="line">            System.err.println(&quot;出现错误:被除数和除数必须为整数!&quot;);</span><br><span class="line">//            e.printStackTrace();</span><br><span class="line">        &#125;catch (ArithmeticException e)&#123;</span><br><span class="line">            //捕获异常，对异常做处理</span><br><span class="line">            System.err.println(&quot;出现错误:除数不能为零!&quot;);</span><br><span class="line">//            e.printStackTrace();</span><br><span class="line">        &#125;catch (Exception e)&#123;</span><br><span class="line">            //捕获异常，对异常做处理</span><br><span class="line">            System.err.println(&quot;出现错误:非法操作!&quot;);</span><br><span class="line">            //System.exit(1);</span><br><span class="line">            //输出异常堆栈信息</span><br><span class="line">//            e.printStackTrace();</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            System.out.println(&quot;感谢使用本程序！&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p><strong>多重catch的执行顺序：先执行小的异常，把大的异常放到最后</strong></p>

        <h4 id="7-throws声明异常"   >
          <a href="#7-throws声明异常" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-throws声明异常" class="headerlink" title="7. throws声明异常"></a>7. throws声明异常</h4>
      <p>thriws声明某个方法可能抛出的各种异常，多个异常用逗号隔开</p>
<p>方法1：调用者处理异常<br>方法2：调用者继续声明异常   ，main()方法声明的异常有Java虚拟机处理</p>
<p>示例：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">	public static void main(String[] args) throws Exception&#123;</span><br><span class="line">		Scanner sc = new Scanner(System.in);</span><br><span class="line">		System.out.println(&quot;请输入被除数&quot;);</span><br><span class="line">		int bei=sc.nextInt();</span><br><span class="line">		System.out.println(&quot;请输入除数&quot;);</span><br><span class="line">		int chuShu = sc.nextInt();</span><br><span class="line">		</span><br><span class="line">		int sum=bei/chuShu;</span><br><span class="line">		System.out.println(bei+&quot;/&quot;+chuShu+&quot;=&quot;+sum);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">```				</span><br><span class="line"></span><br><span class="line">除了系统自动抛出异常外，有些问题需要程序员自行抛出和异常</span><br><span class="line">如：我声明了一个人类，但是男女在意义上只能是男或者是女，在OOP阶段可以使用异常来进行处理</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>public class Person {<br>    private String name;<br>    private String sex;<br>    private String age;<br>    public String getName() {<br>        return name;<br>    }<br>    public void setName(String name) {<br>        this.name = name;<br>    }<br>    public String getSex() {<br>        return sex;<br>    }<br>    //性别只能是男和女，其他字符串报异常<br>    public void setSex(String sex) throws Exception {<br>        if(“男”.equals(sex) ||”女”.equals(sex)){<br>            this.sex=sex;<br>        }else{<br>            //当使用 throw显式抛出异常，必须对异常处理，或throws声明异常<br>            throw new Exception(“性别只能为男女”);<br>        }<br>    }<br>    public String getAge() {<br>        return age;<br>    }</p>
<pre><code>public void setAge(String age) &#123;
    this.age = age;
&#125;

//个人信息介绍
public void print()&#123;
    System.out.println(this.getName()+&quot;--&quot;+this.getSex()+&quot;--&quot;+this.getAge());
&#125;
//main方法
public static void main(String[] args)&#123;
    Person p = new Person();
    try &#123;
        p.setSex(&quot;sc &quot;);
    &#125; catch (Exception e) &#123;
        e.printStackTrace();
    &#125;
    p.print();
&#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">| throw | throws | </span><br><span class="line">| :-----: | :----: |</span><br><span class="line">| 生成并抛出异常| 声明方法内抛出了异常 | </span><br><span class="line">| 位于方法体内部，可作为单独语句使用 | 必须跟在方法参数列表后面，不能单独使用 | </span><br><span class="line">| 抛出一个异常对象，且只能是一个 | 声明抛出异常类型，可以跟多个异常 | </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 8. throws自定义异常</span><br><span class="line">定义一个自定义异常：创建一个普通类，继承Exception使用super调用父类的方法</span><br></pre></td></tr></table></div></figure>
<p>//自定义异常类（Person类性别赋值异常）<br>public class SexException extends Exception{</p>
<pre><code>public SexException()&#123;&#125;
//由特定异常信息构建异常对象
public SexException(String message)&#123;
    super(message);
&#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在setSex里面修改抛出的异常为SexException</span><br></pre></td></tr></table></div></figure>
<p>//性别只能是男和女，其他字符串报异常<br>    public void setSex(String sex) throws SexException {<br>        if(“男”.equals(sex) ||”女”.equals(sex)){<br>            this.sex=sex;<br>        }else{<br>            //当使用 throw显式抛出异常，必须对异常处理，或throws声明异常<br>            throw new SexException(“性别只能为男女”);<br>        }<br>    }</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最后调用setSex方法来try-catch自定义异常</span><br></pre></td></tr></table></div></figure>
<p>public static void main(String[] args){<br>        Person p = new Person();<br>        try {<br>            p.setSex(“sc”);<br>        } catch (SexException e) {<br>            e.printStackTrace();<br>        }<br>        p.print();<br>    }</p>
<p>```</p>

        <h4 id="9-异常链和异常处理原则"   >
          <a href="#9-异常链和异常处理原则" class="heading-link"><i class="fas fa-link"></i></a><a href="#9-异常链和异常处理原则" class="headerlink" title="9. 异常链和异常处理原则"></a>9. 异常链和异常处理原则</h4>
      <p>问题：<br>A方法调用B方法时，B方法却抛出了异常。那A方法继续抛出原有的异常还是抛出一个新的异常呢？</p>
<p>1.抛出原有的异常 ：A方法与B方法进行了关联 ，不便于代码的修改和扩展<br>2.抛出新的异常：会丢失原有的异常信息</p>
<p>异常链是JDK1.4推出的创建了新的异常但却保留了原有异常的信息</p>

        <h4 id="10-异常处理原则"   >
          <a href="#10-异常处理原则" class="heading-link"><i class="fas fa-link"></i></a><a href="#10-异常处理原则" class="headerlink" title="10.异常处理原则"></a>10.异常处理原则</h4>
      <blockquote>
<p>异常处理与性能<br>异常只能用于非正常情况<br>需要对捕获的异常做处理<br>不要将过于庞大的代码块放在try中<br>在catch中指定具体的异常类型</p>
</blockquote>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://example.com">John Doe</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://example.com/2021/09/10/Java-%E5%BC%82%E5%B8%B8/">http://example.com/2021/09/10/Java-%E5%BC%82%E5%B8%B8/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://example.com/tags/Java%E5%9F%BA%E7%A1%80/">Java基础</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://example.com/tags/%E5%BC%82%E5%B8%B8/">异常</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2021/09/10/Java-%E6%8A%BD%E8%B1%A1%E7%B1%BB/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">抽象类</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2021/09/10/Java-%E5%A4%9A%E6%80%81(2)/"><span class="paginator-prev__text">Java-多态性(2)</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Java-%E5%BC%82%E5%B8%B8"><span class="toc-number">1.</span> <span class="toc-text">
          Java-异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%82%E5%B8%B8%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">
          1.什么是异常？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">
          2.异常处理机制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E4%B8%8B%E6%9D%A5%E4%BB%8B%E7%BB%8DJava%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.1.</span> <span class="toc-text">
          接下来介绍Java的异常处理机制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-try-catch"><span class="toc-number">1.3.</span> <span class="toc-text">
          3.try-catch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%BC%82%E5%B8%B8%E5%AF%B9%E8%B1%A1%E5%A4%84%E7%90%86"><span class="toc-number">1.4.</span> <span class="toc-text">
          4.异常对象处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-try-catch-finally"><span class="toc-number">1.5.</span> <span class="toc-text">
          5.try-catch-finally</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%A4%9A%E9%87%8Dcatch"><span class="toc-number">1.6.</span> <span class="toc-text">
          6. 多重catch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-throws%E5%A3%B0%E6%98%8E%E5%BC%82%E5%B8%B8"><span class="toc-number">1.7.</span> <span class="toc-text">
          7. throws声明异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E5%BC%82%E5%B8%B8%E9%93%BE%E5%92%8C%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%8E%9F%E5%88%99"><span class="toc-number">1.8.</span> <span class="toc-text">
          9. 异常链和异常处理原则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%8E%9F%E5%88%99"><span class="toc-number">1.9.</span> <span class="toc-text">
          10.异常处理原则</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://img10.360buyimg.com/ddimg/jfs/t1/210672/22/780/14721/614304cbE6ed71481/b30794e20af29208.png" alt="avatar"></div><p class="sidebar-ov-author__text">生活如此美好</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">31</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">3</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">29</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>John Doe</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>